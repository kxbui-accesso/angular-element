<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>AngularElementDemo</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
  </head>
  <body>
    <div id="parentDiv" style="display: none">Parent: received</div>
    <button id="parentBtn">parent-child</button>
    <button id="removeBtn">remove child</button>
    <div id="element">
      <script>
        // add script
        window.resourceBaseUrl = "http://localhost:4201";
        var elScript = document.createElement("script");
        elScript.setAttribute(
          "src",
          "http://localhost:4201/angular-element-app/angular-element-app.bundle.js"
        );
        document.getElementById("element").appendChild(elScript);

        // add element
        const el = document.createElement("angular-element-app");
        el.style.display = "block";
        el.style.borderStyle = "solid";
        el.style.borderColor = "black";
        document.getElementById("element").appendChild(el);
      </script>
      <script>
        // listen to web component
        const element = document.getElementsByTagName("angular-element-app")[0];
        element.addEventListener("toParent", () => {
          const parentDiv = document.getElementById("parentDiv");
          parentDiv.style.display = "block";
        });

        // call web component api
        const parentBtn = document.getElementById("parentBtn");
        parentBtn.addEventListener("click", () => {
          element.setDisplay();
        });

        // remove web component
        const removeBtn = document.getElementById("removeBtn");
        removeBtn.addEventListener("click", () => {
          element.remove();
        });
      </script>
    </div>
  </body>
</html>
